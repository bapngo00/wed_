<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <title>ThÃªm dá»¯ liá»‡u vÃ o MockAPI</title>
</head>

<body>
    <h2>ThÃªm Users vÃ o MockAPI</h2>
    <button id="uploadBtn">Táº£i dá»¯ liá»‡u lÃªn</button>
    <pre id="log"></pre>

    <script>
        const data = {
            "Ngá»c Thu": [
                { from: "Báº¡n", text: "ChÃ o Thu!" },
                { from: "Ngá»c Thu", text: "ChÃ o báº¡n ^^" },
                { from: "Báº¡n", text: "HÃ´m nay tháº¿ nÃ o rá»“i?" }
            ],
            "Anh Minh": [
                { from: "Báº¡n", text: "Minh Æ¡i, mai Ä‘i chÆ¡i khÃ´ng?" },
                { from: "Anh Minh", text: "TÃ¹y xem cÃ³ mÆ°a khÃ´ng ğŸ˜…" }
            ],
            "Quyá»n Nguyá»…n": [
                { from: "Báº¡n", text: "Tá»‘i qua lÃ m xong bÃ i chÆ°a?" },
                { from: "Quyá»n Nguyá»…n", text: "Xong rá»“i, gá»­i báº¡n luÃ´n nÃ¨!" }
            ]
        };

        document.getElementById("uploadBtn").addEventListener("click", () => {
            const log = document.getElementById("log");
            log.textContent = "Äang gá»­i dá»¯ liá»‡u...\n";

            Object.entries(data).forEach(([name, messages]) => {
                fetch('https://6876662f814c0dfa653bf2e8.mockapi.io/users', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        name,
                        messages
                    })
                })
                    .then(res => res.json())
                    .then(result => {
                        log.textContent += `âœ… ÄÃ£ thÃªm: ${result.name} (id: ${result.id})\n`;
                    })
                    .catch(err => {
                        log.textContent += `âŒ Lá»—i vá»›i ${name}: ${err.message}\n`;
                    });
            });
        });
    </script>
</body>

</html>